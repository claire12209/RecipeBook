<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Recipe</title>
    <script type="text/javascript">
        // Function to add a new ingredient input field
        function addIngredient() {
            var container = document.getElementById("ingredients-container");
            var input = document.createElement("input");
            input.type = "text";
            input.name = "ingredients"; // Name the field to bind to the list in the backend
            input.placeholder = "New Ingredient";
            container.appendChild(input);
        }

        // Function to add a new instruction input field
        function addInstruction() {
            var container = document.getElementById("instructions-container");
            var input = document.createElement("textarea");
            input.name = "instructions"; // Name the field to bind to the list in the backend
            input.placeholder = "New Instruction";
            container.appendChild(input);
        }
    </script>
</head>
<body>
    <h2>Add a Recipe</h2>
    <form th:action="@{/addRecipe}" th:object="${recipe}" method="post">
        <div>
            <label for="name">Recipe Name:</label>
            <input type="text" id="name" th:field="*{name}" required />
        </div>

        <div>
            <label for="category">Category:</label>
            <select id="category" th:field="*{category.id}" required>
                <option th:each="category : ${categories}" 
                        th:value="${category.id}" 
                        th:text="${category.name}"></option>
            </select>
        </div>

        <div>
            <label for="ingredients">Ingredients:</label>
            <div id="ingredients-container">
                <input type="text" name="ingredients" placeholder="Add Ingredient" required />
            </div>
            <button type="button" onclick="addIngredient()">Add Ingredient</button>
        </div>

        <div>
            <label for="instructions">Instructions:</label>
            <div id="instructions-container">
                <textarea name="instructions" placeholder="Add Instruction" required></textarea>
            </div>
            <button type="button" onclick="addInstruction()">Add Instruction</button>
        </div>

        <div>
            <button type="submit">Save Recipe</button>
        </div>
    </form>
</body>
</html>
