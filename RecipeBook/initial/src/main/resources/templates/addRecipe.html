<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" th:href="@{/css/Style.css}">
<head>
    <title>Add Recipe</title>
    
    <script type="text/javascript">
        // Function to add a new ingredient input field
        function addIngredient() {
            var container = document.getElementById("ingredients-container");
            
            var input = document.createElement("input");
            input.type = "text";
            input.name = "ingredients"; // Name the field to bind to the list in the backend
            input.placeholder = "New Ingredient";
            container.appendChild(input);
        }

        // Function to add a new instruction input field
        function addInstruction() {
            var container = document.getElementById("instructions-container");
            var input = document.createElement("textarea");
            input.name = "instructions"; // Name the field to bind to the list in the backend
            input.placeholder = "New Instruction";
            container.appendChild(input);
        }
    </script>
</head>
<body>
    <div class="TopBanner">
        <p><a th:href="@{/login}">Login</a></p>
        <p style="font-size:larger;"><a th:href="@{/home}">Recipe Book</a></p>
        <p style="margin-right: 30%;"><a th:href="@{/register}">Register</a></p>
        <p><a th:href="@{/profile}">Your Profile</a></p>

    </div>
    <h2 style="margin-bottom: 25px">Add a Recipe</h2>
    <form th:action="@{/addRecipe}" th:object="${recipe}" method="post"  style="align-items: center; display: flex; flex-direction: column;">
        <div>
            <label  for="name">Recipe Name:</label>
            <input type="text"  style=" width: 400px; border-radius: 25px;padding: 10px; border: 1px solid #a7556a; border-radius: 5px; box-sizing: border-box; 
            color:#a7556a;" id="name" th:field="*{name}" required />
        </div>

        <div style="margin-top:15px">
            <label for="category">Category:</label>
            <select id="category" th:field="*{category.id}" required style="color:#a7556a">
                <option th:each="category : ${categories}" 
                        th:value="${category.id}" 
                        th:text="${category.name}"></option>
            </select>
        </div>

        <div style="margin-top: 30px;align-items: center; display: flex; flex-direction: column;" >
            <label for="ingredients">Ingredients</label>
            <div id="ingredients-container" >
                <input type="text" name="ingredients" placeholder="Add Ingredient" required />
            </div>
            <div class="addButton">
            <button type="button" onclick="addIngredient()">Add Ingredient</button>
            </div>
        </div>

        <div style="margin-top: 30px ; align-items: center; display: flex; flex-direction: column;">
            <label for="instructions">Instructions:</label>
            <div id="instructions-container" >
                <textarea name="instructions" placeholder="Add Instruction" required></textarea>
            </div>
            <div class="addButton">
            <button type="button" onclick="addInstruction()">Add Instruction</button>
            </div>
        </div>

        <div>
            <div class="addButton">
            <button type="submit">Save Recipe</button>
            </div>
        </div>
    </form>
    <div class="bottom"></div>
</body>
</html>
